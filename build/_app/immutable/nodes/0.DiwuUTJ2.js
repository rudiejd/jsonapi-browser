import"../chunks/DsnmJJEf.js";import{s as ge,h as V,K as Fe,e as qe,a as Ge,b as Ke,t,L as Xe,r as ze,H as Qe,c as Le,d as ke,k as oe,M as Ze,N as ea,f as De,i as aa,O as Ae,P as xe,g as le,Q as Pe,R as Ve,S as ra,T as ta,V as He,W as Ue,j as Je,p as sa,X as Ne,Y as va,Z as Ye,_ as la,$ as ia,a0 as na,a1 as da,a2 as fa,a3 as ua,a4 as oa,a5 as _a,a6 as ca,a7 as ha,a8 as ma,a9 as pa,aa as ba,ab as ya,ac as Ea,n as Aa,ad as xa,ae as Ia,af as Sa,y as Ta,ag as ga,z as J,ah as ka,C as M,D as Na,I as g,ai as X,aj as H,ak as wa,F as f,G as n,al as Ma,am as ye,A as _e,B as re,J as z}from"../chunks/CtL9VkQ9.js";import{i as ce}from"../chunks/B53pB0mR.js";function se(e,r){return r}function Ra(e,r,a){for(var s=e.items,v=[],d=r.length,u=0;u<d;u++)da(r[u].e,v,!0);var p=d>0&&v.length===0&&a!==null;if(p){var k=a.parentNode;fa(k),k.append(a),s.clear(),P(e,r[0].prev,r[d-1].next)}ua(v,()=>{for(var I=0;I<d;I++){var A=r[I];p||(s.delete(A.k),P(e,A.prev,A.next)),Ye(A.e,!p)}})}function ve(e,r,a,s,v,d=null){var u=e,p={flags:r,items:new Map,first:null},k=(r&Pe)!==0;if(k){var I=e;u=V?ge(Fe(I)):I.appendChild(qe())}V&&Ge();var A=null,h=!1,R=new Map,Y=Xe(()=>{var b=a();return ra(b)?b:b==null?[]:Ve(b)}),i,m;function c(){Oa(m,i,p,R,u,v,r,s,a),d!==null&&(i.length===0?A?Je(A):A=De(()=>d(u)):A!==null&&sa(A,()=>{A=null}))}Ke(()=>{m??=oa,i=t(Y);var b=i.length;if(h&&b===0)return;h=b===0;let E=!1;if(V){var N=ze(u)===Qe;N!==(b===0)&&(u=Le(),ge(u),ke(!1),E=!0)}if(V){for(var C=null,y,l=0;l<b;l++){if(oe.nodeType===Ze&&oe.data===ea){u=oe,E=!0,ke(!1);break}var o=i[l],x=s(o,l);y=$e(oe,p,C,null,o,x,l,v,r,a),p.items.set(x,y),C=y}b>0&&ge(Le())}if(V)b===0&&d&&(A=De(()=>d(u)));else if(aa()){var K=new Set,Q=le;for(l=0;l<b;l+=1){o=i[l],x=s(o,l);var j=p.items.get(x)??R.get(x);j?(r&(Ae|xe))!==0&&Be(j,o,l,r):(y=$e(null,p,null,null,o,x,l,v,r,a,!0),R.set(x,y)),K.add(x)}for(const[O,Z]of p.items)K.has(O)||Q.skipped_effects.add(Z.e);Q.add_callback(c)}else c();E&&ke(!0),t(Y)}),V&&(u=oe)}function Oa(e,r,a,s,v,d,u,p,k){var I=(u&ia)!==0,A=(u&(Ae|xe))!==0,h=r.length,R=a.items,Y=a.first,i=Y,m,c=null,b,E=[],N=[],C,y,l,o;if(I)for(o=0;o<h;o+=1)C=r[o],y=p(C,o),l=R.get(y),l!==void 0&&(l.a?.measure(),(b??=new Set).add(l));for(o=0;o<h;o+=1){if(C=r[o],y=p(C,o),l=R.get(y),l===void 0){var x=s.get(y);if(x!==void 0){s.delete(y),R.set(y,x);var K=c?c.next:i;P(a,c,x),P(a,x,K),we(x,K,v),c=x}else{var Q=i?i.e.nodes_start:v;c=$e(Q,a,c,c===null?a.first:c.next,C,y,o,d,u,k)}R.set(y,c),E=[],N=[],i=c.next;continue}if(A&&Be(l,C,o,u),(l.e.f&Ne)!==0&&(Je(l.e),I&&(l.a?.unfix(),(b??=new Set).delete(l))),l!==i){if(m!==void 0&&m.has(l)){if(E.length<N.length){var j=N[0],O;c=j.prev;var Z=E[0],ie=E[E.length-1];for(O=0;O<E.length;O+=1)we(E[O],j,v);for(O=0;O<N.length;O+=1)m.delete(N[O]);P(a,Z.prev,ie.next),P(a,c,Z),P(a,ie,j),i=j,c=ie,o-=1,E=[],N=[]}else m.delete(l),we(l,i,v),P(a,l.prev,l.next),P(a,l,c===null?a.first:c.next),P(a,c,l),c=l;continue}for(E=[],N=[];i!==null&&i.k!==y;)(i.e.f&Ne)===0&&(m??=new Set).add(i),N.push(i),i=i.next;if(i===null)continue;l=i}E.push(l),c=l,i=l.next}if(i!==null||m!==void 0){for(var ee=m===void 0?[]:Ve(m);i!==null;)(i.e.f&Ne)===0&&ee.push(i),i=i.next;var ne=ee.length;if(ne>0){var _=(u&Pe)!==0&&h===0?v:null;if(I){for(o=0;o<ne;o+=1)ee[o].a?.measure();for(o=0;o<ne;o+=1)ee[o].a?.fix()}Ra(a,ee,_)}}I&&va(()=>{if(b!==void 0)for(l of b)l.a?.apply()}),e.first=a.first&&a.first.e,e.last=c&&c.e;for(var S of s.values())Ye(S.e);s.clear()}function Be(e,r,a,s){(s&Ae)!==0&&Ue(e.v,r),(s&xe)!==0?Ue(e.i,a):e.i=a}function $e(e,r,a,s,v,d,u,p,k,I,A){var h=(k&Ae)!==0,R=(k&la)===0,Y=h?R?ta(v,!1,!1):He(v):v,i=(k&xe)===0?u:He(u),m={i,v:Y,k:d,a:null,e:null,prev:a,next:s};try{if(e===null){var c=document.createDocumentFragment();c.append(e=qe())}return m.e=De(()=>p(e,Y,i,I),V),m.e.prev=a&&a.e,m.e.next=s&&s.e,a===null?A||(r.first=m):(a.next=m,a.e.next=m.e),s!==null&&(s.prev=m,s.e.prev=m.e),m}finally{}}function we(e,r,a){for(var s=e.next?e.next.e.nodes_start:a,v=r?r.e.nodes_start:a,d=e.e.nodes_start;d!==null&&d!==s;){var u=na(d);v.before(d),d=u}}function P(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}const Ca=Symbol("is custom element"),Da=Symbol("is html");function Me(e){if(V){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;Ee(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var v=e.checked;Ee(e,"checked",null),e.checked=v}}};e.__on_r=a,_a(a),ca()}}function Ee(e,r,a,s){var v=$a(e);V&&(v[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||v[r]!==(v[r]=a)&&(r==="loading"&&(e[ha]=a),a==null?e.removeAttribute(r):typeof a!="string"&&La(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function $a(e){return e.__attributes??={[Ca]:e.nodeName.includes("-"),[Da]:e.namespaceURI===ma}}var je=new Map;function La(e){var r=e.getAttribute("is")||e.nodeName,a=je.get(r);if(a)return a;je.set(r,a=[]);for(var s,v=e,d=Element.prototype;d!==v;){s=ba(v);for(var u in s)s[u].set&&a.push(u);v=pa(v)}return a}function Re(e,r,a=r){var s=new WeakSet;ya(e,"input",async v=>{var d=v?e.defaultValue:e.value;if(d=Oe(e)?Ce(d):d,a(d),le!==null&&s.add(le),await Ea(),d!==(d=r())){var u=e.selectionStart,p=e.selectionEnd;e.value=d??"",p!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(p,e.value.length))}}),(V&&e.defaultValue!==e.value||Aa(r)==null&&e.value)&&(a(Oe(e)?Ce(e.value):e.value),le!==null&&s.add(le)),xa(()=>{var v=r();if(e===document.activeElement){var d=Ia??le;if(s.has(d))return}Oe(e)&&v===Ce(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function Oe(e){var r=e.type;return r==="number"||r==="range"}function Ce(e){return e===""?null:+e}var Ha=J('<th class="svelte-75ehvs"> </th>'),Ua=(e,r,a,s)=>{e.preventDefault(),r(t(a),t(s).relationships[t(a)].data.id)},ja=J("<p><a> </a></p>"),qa=J('<td class="svelte-75ehvs"> </td>'),Pa=J('<tr class="svelte-75ehvs"><td class="svelte-75ehvs"> </td><td class="svelte-75ehvs"><ul></ul></td><!></tr>'),Va=J('<table class="japi-data svelte-75ehvs"><thead><tr class="svelte-75ehvs"><th class="svelte-75ehvs">ID</th><th class="svelte-75ehvs">Relationships</th><!></tr></thead><tbody></tbody></table>'),Ja=(e,r,a,s)=>{e.preventDefault(),r(t(a),t(s).data.relationships[t(a)].data.id)},Ya=J("<p><a> </a></p>"),Ba=J('<tr class="svelte-75ehvs"><th class="svelte-75ehvs"> </th><td class="svelte-75ehvs"> </td></tr>'),Wa=J('<ul><table class="japi-data svelte-75ehvs"><tbody><tr class="svelte-75ehvs"><th class="svelte-75ehvs">Relationships</th><td class="svelte-75ehvs"><!></td></tr><!></tbody></table></ul>'),Fa=J('<p style="color: red;">Could not handle API response:</p> <pre> </pre>',1),Ga=J('<main><h1>JSONAPI Explorer</h1> <div><div><div><form><div><label>API URL</label> <input type="text" class="svelte-75ehvs"/></div> <div><label>Resource</label> <input type="text" required class="svelte-75ehvs"/></div> <div><label>Resource ID</label> <input type="text" class="svelte-75ehvs"/></div> <button type="submit" class="svelte-75ehvs">Explore</button></form> <div><div><div><div><div><!></div></div></div></div></div></div></div></div></main>');function Qa(e,r){Ta(r,!0);let a=X("https://api-v3.mbta.com"),s=X("vehicles"),v=X(void 0),d=X(void 0),u=X("https://api-v3.mbta.com"),p=X("vehicles"),k=X(void 0),I=X(void 0);function A(){let _=`${t(a)}/${t(s)}`;return t(v)&&(_+=`/${t(v)}`),t(d)&&t(d).length>0&&(_+=`?${t(d)}`),_}let h=wa(async()=>{let _=A();const S=await fetch(_);S.ok?H(h,await S.json()):H(I,{...S.json,statusCode:S.status,statusText:S.statusText},!0)});ga(async()=>{const _=await fetch(`https://api-v3.mbta.com/${t(s)}`);H(h,await _.json())});function R(_,S){_.endsWith("y")?H(s,_.substr(_.length-1)+"ies"):H(s,_+"s"),_&&H(v,S,!0)}function Y(_){_.preventDefault(),H(a,t(u),!0),H(s,t(p),!0),H(v,t(k),!0)}var i=Ga(),m=g(f(i),2),c=f(m),b=f(c),E=f(b),N=f(E),C=g(f(N),2);Me(C),n(N);var y=g(N,2),l=g(f(y),2);Me(l),n(y);var o=g(y,2),x=g(f(o),2);Me(x),n(o),Ma(2),n(E);var K=g(E,2),Q=f(K),j=f(Q),O=f(j),Z=f(O),ie=f(Z);{var ee=_=>{var S=Va(),de=f(S),he=f(de),Ie=g(f(he),2);ve(Ie,17,()=>Object.keys(t(h).data[0].attributes),se,(q,T)=>{var D=Ha(),U=f(D,!0);n(D),re(()=>z(U,t(T))),M(q,D)}),n(he),n(de);var B=g(de);ve(B,21,()=>t(h).data,se,(q,T)=>{var D=Pa(),U=f(D),me=f(U,!0);n(U);var fe=g(U),pe=f(fe);ve(pe,21,()=>Object.keys(t(T).relationships),se,(W,w)=>{var $=ye(),F=_e($);{var L=G=>{var ae=ja(),te=f(ae);te.__click=[Ua,R,w,T];var ue=f(te,!0);n(te),n(ae),re(()=>{Ee(te,"href",`${t(a)??""}/${t(w)??""}s/${t(T).relationships[t(w)].data.id??""}`),z(ue,`${t(w)}: ${t(T).relationships[t(w)].data.id}`)}),M(G,ae)};ce(F,G=>{t(T).relationships[t(w)].data&&G(L)})}M(W,$)}),n(pe),n(fe);var Se=g(fe);ve(Se,17,()=>Object.keys(t(T).attributes),se,(W,w)=>{var $=qa(),F=f($,!0);n($),re(L=>z(F,L),[()=>JSON.stringify(t(T).attributes[t(w)])]),M(W,$)}),n(D),re(()=>z(me,t(T).id)),M(q,D)}),n(B),n(S),M(_,S)},ne=_=>{var S=ye(),de=_e(S);{var he=B=>{var q=Wa(),T=f(q),D=f(T),U=f(D),me=g(f(U)),fe=f(me);{var pe=W=>{var w=ye(),$=_e(w);ve($,17,()=>Object.keys(t(h).data.relationships),se,(F,L)=>{var G=ye(),ae=_e(G);{var te=ue=>{var Te=Ya(),be=f(Te);be.__click=[Ja,R,L,h];var We=f(be,!0);n(be),n(Te),re(()=>{Ee(be,"href",`${t(a)??""}/${t(L)??""}s/${t(h).data.relationships[t(L)].data.id??""}`),z(We,`${t(L)}: ${t(h).data.relationships[t(L)].data.id}`)}),M(ue,Te)};ce(ae,ue=>{t(h).data.relationships[t(L)].data&&ue(te)})}M(F,G)}),M(W,w)};ce(fe,W=>{t(h).data&&t(h).data.relationships&&W(pe)})}n(me),n(U);var Se=g(U);ve(Se,17,()=>Object.keys(t(h).data.attributes),se,(W,w)=>{var $=Ba(),F=f($),L=f(F,!0);n(F);var G=g(F),ae=f(G,!0);n(G),n($),re(()=>{z(L,t(w)),z(ae,t(h).data.attributes[t(w)])}),M(W,$)}),n(D),n(T),n(q),M(B,q)},Ie=B=>{var q=Fa(),T=g(_e(q),2),D=f(T);n(T),re(U=>z(D,`
                        ${U??""}
                      `),[()=>JSON.stringify(t(I),null,2)]),M(B,q)};ce(de,B=>{typeof t(h).data=="object"?B(he):B(Ie,!1)},!0)}M(_,S)};ce(ie,_=>{Array.isArray(t(h).data)?_(ee):_(ne,!1)})}n(Z),n(O),n(j),n(Q),n(K),n(b),n(c),n(m),n(i),ka("submit",E,Y),Re(C,()=>t(u),_=>H(u,_)),Re(l,()=>t(p),_=>H(p,_)),Re(x,()=>t(k),_=>H(k,_)),M(e,i),Na()}Sa(["click"]);export{Qa as component};
